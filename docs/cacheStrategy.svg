<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1057.7282910211063" height="842.3070521749091"><desc>title%20Cache%20Strategy%0A%0AAPIs-%3EQueue%3A%20A%20follows%20B%20%7C%7C%20B%20creates%20content%0AQueue-%3EWorker%3AUpsert%20with%20user%20B%20content%0AWorker%3C--%3ERedis%3AAsk%20for%20control%20document%0ARedis%3C--%3EWorker%3AAsk%20for%20last%20content%20page%0Anote%20over%20Worker%3AUpdates%20control%20and%20content%0AWorker--%3ERedis%3AWrites%20updated%20control%0AWorker--%3ERedis%3AWrites%20updated%20content%0Anote%20over%20Redis%3AHas%20one%20control%20document%0Anote%20over%20Redis%3AHas%20N%20content%20documents%20(pages)%0AAPIs%3C-%3ERedis%3AAsk%20for%20control%20and%20pages%20N%20and%20N-1%0AAPIs-%3EQueue%3ALet%20know%20pages%20N%20and%20N-1%20had%20been%20read%0AQueue-%3EWorker%3AAsk%20pages%20N%20and%20N-1%20to%20be%20deleted%0AWorker%3C--%3ERedis%3AAsk%20for%20control%20document%0Anote%20over%20Worker%3AUpdates%20control%20document%0AWorker--%3ERedis%3ADeletes%20pages%20N%20and%20N-1</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1057" height="842"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 39.29965860053028 88.3745921749091 L 39.29965860053028 842.3070521749091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 383.37605468700485 88.3745921749091 L 383.37605468700485 842.3070521749091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 678.9024534437675 88.3745921749091 L 678.9024534437675 842.3070521749091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 903.9121896028739 88.3745921749091 L 903.9121896028739 842.3070521749091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.539324600000004 47.662239334909096 L 71.05999260106056 47.662239334909096 L 71.05999260106056 88.3745921749091 L 7.539324600000004 88.3745921749091 L 7.539324600000004 47.662239334909096 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982000005" y="73.2959429749091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">APIs</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 342.97405427412104 47.662239334909096 L 423.7780550998886 47.662239334909096 L 423.7780550998886 88.3745921749091 L 342.97405427412104 88.3745921749091 L 342.97405427412104 47.662239334909096 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="359.33438865612106" y="73.2959429749091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Queue</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 636.7671194432372 47.662239334909096 L 721.0377874442978 47.662239334909096 L 721.0377874442978 88.3745921749091 L 636.7671194432372 88.3745921749091 L 636.7671194432372 47.662239334909096 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="653.1274538252372" y="73.2959429749091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Worker</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 867.7935220146971 47.662239334909096 L 940.0308571910507 47.662239334909096 L 940.0308571910507 88.3745921749091 L 867.7935220146971 88.3745921749091 L 867.7935220146971 47.662239334909096 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="884.1538563966972" y="73.2959429749091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Redis</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="446.57500076293945" y="22.75505242909091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Cache Strategy</text></g><g><rect fill="white" stroke="none" x="94.68439189773973" y="118.53189057490908" width="233.30693521410157" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="96.94618927773973" y="132.10267485490908" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">A follows B || B creates content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 39.29965860053028 138.1341345349091 L 370.96130017900487 138.1341345349091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(383.37605468700485,138.1341345349091) translate(-383.37605468700485,-138.1341345349091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 370.81051368700486 131.8513640349091 L 383.37605468700485 138.1341345349091 L 370.81051368700486 144.4169050349091 Z"/></g></g><g><rect fill="white" stroke="none" x="430.8441224301677" y="160.75210833490908" width="200.59026040941407" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="433.10591981016773" y="174.32289261490908" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upsert with user B content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 383.37605468700485 180.3543522949091 L 666.4876989357675 180.3543522949091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(678.9024534437675,180.3543522949091) translate(-678.9024534437675,-180.3543522949091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 666.3369124437675 174.0715817949091 L 678.9024534437675 180.3543522949091 L 666.3369124437675 186.6371227949091 Z"/></g></g><g><rect fill="white" stroke="none" x="696.7455216637675" y="202.97232609490908" width="189.32359781175782" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="699.0073190437674" y="216.54311037490908" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ask for control document</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 691.3172079517675 222.5745700549091 L 891.4974350948739 222.5745700549091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(903.9121896028739,222.5745700549091) translate(-903.9121896028739,-222.5745700549091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 216.2917995549091 L 903.9121896028739 222.5745700549091 L 891.3466486028739 228.8573405549091 Z"/><g transform="translate(678.9024534437675,222.5745700549091) translate(-678.9024534437675,-222.5745700549091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 691.4679944437676 216.2917995549091 L 678.9024534437675 222.5745700549091 L 691.4679944437676 228.8573405549091 Z"/></g></g></g><g><rect fill="white" stroke="none" x="697.2205239525858" y="245.1925438549091" width="188.37360086351563" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="699.4823213325858" y="258.7633281349091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ask for last content page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 891.4974350948739 264.7947878149091 L 691.3172079517675 264.7947878149091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(678.9024534437675,264.7947878149091) translate(-678.9024534437675,-264.7947878149091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 691.4679944437676 258.5120173149091 L 678.9024534437675 264.7947878149091 L 691.4679944437676 271.07755831490914 Z"/><g transform="translate(903.9121896028739,264.7947878149091) translate(-903.9121896028739,-264.7947878149091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 258.5120173149091 L 903.9121896028739 264.7947878149091 L 891.3466486028739 271.07755831490914 Z"/></g></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 553.3340086873027 287.41276161490913 L 790.9001139202323 287.41276161490913 L 804.4708982002323 300.9835458949091 L 804.4708982002323 322.0936547749091 L 553.3340086873027 322.0936547749091 L 553.3340086873027 287.41276161490913 M 790.9001139202323 287.41276161490913 L 790.9001139202323 300.9835458949091 L 804.4708982002323 300.9835458949091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="574.4441175673027" y="308.52287049490917" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Updates control and content</text></g><g><rect fill="white" stroke="none" x="705.5538569680277" y="344.7116285749091" width="171.70692911058595" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="707.8156543480277" y="358.2824128549091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Writes updated control</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 678.9024534437675 364.31387253490914 L 891.4974350948739 364.31387253490914" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(903.9121896028739,364.31387253490914) translate(-903.9121896028739,-364.31387253490914)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 358.0311020349091 L 903.9121896028739 364.31387253490914 L 891.3466486028739 370.59664303490916 Z"/></g></g><g><rect fill="white" stroke="none" x="702.9038573494975" y="386.9318463349092" width="177.00693216234376" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="705.1656547294974" y="400.5026306149092" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Writes updated content</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 678.9024534437675 406.53409029490916 L 891.4974350948739 406.53409029490916" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(903.9121896028739,406.53409029490916) translate(-903.9121896028739,-406.53409029490916)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 400.25131979490914 L 903.9121896028739 406.53409029490916 L 891.3466486028739 412.8168607949092 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 786.1020780525859 429.1520640949092 L 1008.151516873162 429.1520640949092 L 1021.722301153162 442.7228483749092 L 1021.722301153162 463.83295725490916 L 786.1020780525859 463.83295725490916 L 786.1020780525859 429.1520640949092 M 1008.151516873162 429.1520640949092 L 1008.151516873162 442.7228483749092 L 1021.722301153162 442.7228483749092" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="807.2121869325858" y="450.26217297490916" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Has one control document</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 757.6354127846415 486.45093105490923 L 1036.6181821411062 486.45093105490923 L 1050.1889664211062 500.02171533490923 L 1050.1889664211062 521.1318242149092 L 757.6354127846415 521.1318242149092 L 757.6354127846415 486.45093105490923 M 1036.6181821411062 486.45093105490923 L 1036.6181821411062 500.02171533490923 L 1050.1889664211062 500.02171533490923" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="778.7455216646415" y="507.5610399349092" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Has N content documents (pages)</text></g><g><rect fill="white" stroke="none" x="336.67745878346966" y="543.7497980149092" width="269.85693826585936" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="338.9392561634697" y="557.3205822949092" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ask for control and pages N and N-1</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 51.71441310853028 563.3520419749092 L 891.4974350948739 563.3520419749092" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(903.9121896028739,563.3520419749092) translate(-903.9121896028739,-563.3520419749092)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 557.0692714749092 L 903.9121896028739 563.3520419749092 L 891.3466486028739 569.6348124749092 Z"/><g transform="translate(39.29965860053028,563.3520419749092) translate(-39.29965860053028,-563.3520419749092)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 51.86519960053028 557.0692714749092 L 39.29965860053028 563.3520419749092 L 51.86519960053028 569.6348124749092 Z"/></g></g></g><g><rect fill="white" stroke="none" x="57.142726820530264" y="585.9700157749091" width="308.39026346117186" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="59.40452420053026" y="599.5408000549091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Let know pages N and N-1 had been read</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 39.29965860053028 605.5722597349092 L 370.96130017900487 605.5722597349092" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(383.37605468700485,605.5722597349092) translate(-383.37605468700485,-605.5722597349092)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 370.81051368700486 599.2894892349092 L 383.37605468700485 605.5722597349092 L 370.81051368700486 611.8550302349091 Z"/></g></g><g><rect fill="white" stroke="none" x="401.2191229070049" y="628.1902335349091" width="259.84026040941404" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="403.4809202870049" y="641.7610178149091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ask pages N and N-1 to be deleted</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 383.37605468700485 647.7924774949091 L 666.4876989357675 647.7924774949091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(678.9024534437675,647.7924774949091) translate(-678.9024534437675,-647.7924774949091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 666.3369124437675 641.5097069949092 L 678.9024534437675 647.7924774949091 L 666.3369124437675 654.0752479949091 Z"/></g></g><g><rect fill="white" stroke="none" x="696.7455216637675" y="670.4104512949091" width="189.32359781175782" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="699.0073190437674" y="683.9812355749091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Ask for control document</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 691.3172079517675 690.0126952549091 L 891.4974350948739 690.0126952549091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(903.9121896028739,690.0126952549091) translate(-903.9121896028739,-690.0126952549091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 683.7299247549091 L 903.9121896028739 690.0126952549091 L 891.3466486028739 696.2954657549091 Z"/><g transform="translate(678.9024534437675,690.0126952549091) translate(-678.9024534437675,-690.0126952549091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 691.4679944437676 683.7299247549091 L 678.9024534437675 690.0126952549091 L 691.4679944437676 696.2954657549091 Z"/></g></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 560.51734113054 712.6306690549092 L 783.716781476995 712.6306690549092 L 797.287565756995 726.2014533349092 L 797.287565756995 747.3115622149091 L 560.51734113054 747.3115622149091 L 560.51734113054 712.6306690549092 M 783.716781476995 712.6306690549092 L 783.716781476995 726.2014533349092 L 797.287565756995 726.2014533349092" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="581.62745001054" y="733.7407779349091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Updates control document</text></g><g><rect fill="white" stroke="none" x="697.8705235711161" y="769.9295360149091" width="187.07359781175782" height="19.602243960000003"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="700.1323209511161" y="783.5003202949091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Deletes pages N and N-1</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 678.9024534437675 789.5317799749091 L 891.4974350948739 789.5317799749091" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(903.9121896028739,789.5317799749091) translate(-903.9121896028739,-789.5317799749091)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 891.3466486028739 783.2490094749091 L 903.9121896028739 789.5317799749091 L 891.3466486028739 795.8145504749091 Z"/></g></g></g><g/><g/><g/><g/></g></svg>